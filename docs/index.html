<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>interminimal</title><meta name="description" content="Documentation for interminimal"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">interminimal</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>interminimal </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#react-translations" id="react-translations" style="color: inherit; text-decoration: none;">
  <h1>React Translations</h1>
</a>

<a href="#an-example" id="an-example" style="color: inherit; text-decoration: none;">
  <h2>An Example</h2>
</a>
<pre><code class="language-js"><span class="hl-6">import</span><span class="hl-2"> { </span><span class="hl-4">T</span><span class="hl-2">, </span><span class="hl-4">Translate</span><span class="hl-2"> } </span><span class="hl-6">from</span><span class="hl-2"> </span><span class="hl-5">&quot;interminimal&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Multlingual fat string</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">message</span><span class="hl-2"> = { </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;Hello&quot;</span><span class="hl-2">, </span><span class="hl-4">fr:</span><span class="hl-2"> </span><span class="hl-5">&quot;Bonjour&quot;</span><span class="hl-2"> };</span><br/><br/><span class="hl-1">function</span><span class="hl-2"> </span><span class="hl-8">MyThing</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> [</span><span class="hl-3">lang</span><span class="hl-2">, </span><span class="hl-3">setLang</span><span class="hl-2">] = </span><span class="hl-8">useState</span><span class="hl-2">(</span><span class="hl-5">&quot;en&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">langs</span><span class="hl-2"> = [</span><span class="hl-5">&quot;en&quot;</span><span class="hl-2">, </span><span class="hl-5">&quot;fr&quot;</span><span class="hl-2">, </span><span class="hl-5">&quot;de&quot;</span><span class="hl-2">];</span><br/><span class="hl-2">  </span><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">    </span><span class="hl-0">// Select the current language, dictionary is inherited</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">Translate</span><span class="hl-2"> </span><span class="hl-10">lang</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">lang</span><span class="hl-1">}</span><span class="hl-9">&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;h1&quot;</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;heading&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">      </span><span class="hl-1">{</span><span class="hl-0">/* Buttons */</span><span class="hl-1">}</span><br/><span class="hl-2">      </span><span class="hl-1">{</span><span class="hl-4">langs</span><span class="hl-11">.</span><span class="hl-8">map</span><span class="hl-11">(</span><span class="hl-4">lang</span><span class="hl-11"> </span><span class="hl-1">=&gt;</span><span class="hl-11"> (</span><br/><span class="hl-11">        </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-11"> </span><span class="hl-10">key</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">lang</span><span class="hl-1">}</span><span class="hl-11"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;button&quot;</span><span class="hl-11"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">lang</span><span class="hl-1">}</span><span class="hl-11"> </span><span class="hl-10">onClick</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-11">() </span><span class="hl-1">=&gt;</span><span class="hl-11"> </span><span class="hl-8">setLang</span><span class="hl-11">(</span><span class="hl-4">lang</span><span class="hl-11">)</span><span class="hl-1">}</span><span class="hl-11"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-11">      ))</span><span class="hl-1">}</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;p&quot;</span><span class="hl-2"> </span><span class="hl-10">text</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">message</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;/</span><span class="hl-7">Translate</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  );</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">dictionary</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-4">$$dict:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">// Language names</span><br/><span class="hl-2">    </span><span class="hl-4">en:</span><span class="hl-2"> { </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;English&quot;</span><span class="hl-2">, </span><span class="hl-4">fr:</span><span class="hl-2"> </span><span class="hl-5">&quot;Anglais&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">    </span><span class="hl-4">fr:</span><span class="hl-2"> { </span><span class="hl-4">fr:</span><span class="hl-2"> </span><span class="hl-5">&quot;Français&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">    </span><span class="hl-4">de:</span><span class="hl-2"> { </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;German&quot;</span><span class="hl-2">, </span><span class="hl-4">fr:</span><span class="hl-2"> </span><span class="hl-5">&quot;Allemand&quot;</span><span class="hl-2">, </span><span class="hl-4">de:</span><span class="hl-2"> </span><span class="hl-5">&quot;Deutsch&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">    </span><span class="hl-0">// Page heading</span><br/><span class="hl-2">    </span><span class="hl-4">heading:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;Let&#39;s Translate!&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-4">fr:</span><span class="hl-2"> </span><span class="hl-5">&quot;Traduisons!&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-4">de:</span><span class="hl-2"> </span><span class="hl-5">&quot;Lassen Sie uns übersetzen!&quot;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-1">function</span><span class="hl-2"> </span><span class="hl-8">MyApp</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">    </span><span class="hl-0">// Set the dictionary to use</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">Translate</span><span class="hl-2"> </span><span class="hl-10">dictionary</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">dictionary</span><span class="hl-1">}</span><span class="hl-9">&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">MyThing</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;/</span><span class="hl-7">Translate</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  );</span><br/><span class="hl-2">}</span>
</code></pre>

<a href="#api-documentation" id="api-documentation" style="color: inherit; text-decoration: none;">
  <h1>API documentation</h1>
</a>
<p>If you&#39;re developing your own components that work with <em>Interminimal</em> you might like to check out the <a href="https://bbcni.github.io/Interminimal/modules.html">API documentation</a>.</p>

<a href="#let39s-translate" id="let39s-translate" style="color: inherit; text-decoration: none;">
  <h1>Let&#39;s Translate!</h1>
</a>
<p>As you can see in the example above you can translate your text using just two components: <code>Translate</code> which creates a translation context and <code>T</code> which translates individual chunks of text.</p>

<a href="#translate---the-translation-context" id="translate---the-translation-context" style="color: inherit; text-decoration: none;">
  <h2><code>Translate</code> - the translation context</h2>
</a>
<p>The translation context dictates the translation settings for all components below it. Contexts may be freely nested with each overriding one or more properties from the context above it. The most interesting properties of a translation context are <code>lang</code>, <code>defaultLang</code> and <code>dictionary</code>.</p>
<pre><code class="language-js"><span class="hl-1">function</span><span class="hl-2"> </span><span class="hl-8">MyThing</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">Translate</span><span class="hl-2"> </span><span class="hl-10">dictionary</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">dictionary</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-10">lang</span><span class="hl-2">=</span><span class="hl-5">&quot;en&quot;</span><span class="hl-9">&gt;</span><br/><span class="hl-2">      </span><span class="hl-1">{</span><span class="hl-0">/* english */</span><span class="hl-1">}</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;p&quot;</span><span class="hl-2"> </span><span class="hl-10">text</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">oneString</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">Translate</span><span class="hl-2"> </span><span class="hl-10">lang</span><span class="hl-2">=</span><span class="hl-5">&quot;cy&quot;</span><span class="hl-9">&gt;</span><br/><span class="hl-2">        </span><span class="hl-1">{</span><span class="hl-0">/* welsh */</span><span class="hl-1">}</span><br/><span class="hl-2">        </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;p&quot;</span><span class="hl-2"> </span><span class="hl-10">text</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">anotherString</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;/</span><span class="hl-7">Translate</span><span class="hl-9">&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;/</span><span class="hl-7">Translate</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  );</span><br/><span class="hl-2">}</span>
</code></pre>

<a href="#t---the-translator" id="t---the-translator" style="color: inherit; text-decoration: none;">
  <h2><code>T</code> - the translator</h2>
</a>
<p>The <code>T</code> component represents translatable text. It will attempt to render using the language specified by the containing translation context.</p>
<p>Here are some of the things <code>T</code> can do:</p>
<ul>
<li>translate fat strings like <code>{ en: &quot;Hello&quot;, fr: &quot;Bonjour&quot; }</code></li>
<li>handle pluralisation (even fatter strings)</li>
<li>look up tagged translations in a dictionary</li>
<li>add a <code>lang</code> attribute only when necessary</li>
<li>translate other properties (e.g. <code>alt</code>, <code>title</code>)</li>
<li>perform flexible template subsitution</li>
<li>wrap arbitrary HTML elements and React components with translation goodness.</li>
</ul>

<a href="#fat-strings" id="fat-strings" style="color: inherit; text-decoration: none;">
  <h2>Fat Strings</h2>
</a>
<p>We represent multilingual content as objects that have IETF BCP 47 language codes as keys and corresponding translated text as values. Internally <em>Interminimal</em> casts fat strings into <code>TString</code> objects.</p>
<p>Here&#39;s a simple example:</p>
<pre><code class="language-js"><span class="hl-2">{ </span><span class="hl-12">en</span><span class="hl-2">: </span><span class="hl-5">&quot;Hello&quot;</span><span class="hl-2">, </span><span class="hl-12">fr</span><span class="hl-2">: </span><span class="hl-5">&quot;Bonjour&quot;</span><span class="hl-2"> }</span>
</code></pre>
<p>When looking for a translation <code>T</code> tries the containing context&#39;s desired language <code>lang</code> first. If that fails to find a translation it walks up the context stack trying each <code>lang</code> in turn. Then it tries <code>defaultLang</code>. If none of those yield a translation it will use the first of any languages present in the fat string. Translation can only fail completely if the fat string is just an empty object.</p>
<p>Fat strings can also handle pluralisation - which is quite involved for languages such as Welsh. Here&#39;s how we&#39;d represent translations for a count of cats. The <code>%1</code> in the strings is a placeholder for the number of cats - we&#39;ll see how to use that soon.</p>
<pre><code class="language-js"><span class="hl-0">// Combien de moggie?</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">cats</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-4">en:</span><span class="hl-2"> { </span><span class="hl-4">one:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cat&quot;</span><span class="hl-2">, </span><span class="hl-4">other:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cats&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">  </span><span class="hl-4">de:</span><span class="hl-2"> { </span><span class="hl-4">one:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 Katze&quot;</span><span class="hl-2">, </span><span class="hl-4">other:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 Katzen&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">  </span><span class="hl-4">cy:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">zero:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cathod&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-4">one:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 gath&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-4">two:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 gath&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-4">few:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cath&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-4">many:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 chath&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-4">other:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cath&quot;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">};</span>
</code></pre>

<a href="#finding-the-best-language" id="finding-the-best-language" style="color: inherit; text-decoration: none;">
  <h2>Finding the best language</h2>
</a>
<p><em>Interminimal</em> attempts to find the best translation for the requested languages:</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">colour</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-5">&quot;en&quot;</span><span class="hl-4">:</span><span class="hl-2"> </span><span class="hl-5">&quot;color&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">&quot;en-GB&quot;</span><span class="hl-4">:</span><span class="hl-2"> </span><span class="hl-5">&quot;colour&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">&quot;de&quot;</span><span class="hl-4">:</span><span class="hl-2"> </span><span class="hl-5">&quot;Farbe&quot;</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-0">// and later</span><br/><br/><span class="hl-4">ts</span><span class="hl-2">.</span><span class="hl-8">toLang</span><span class="hl-2">([</span><span class="hl-5">&quot;en-AU&quot;</span><span class="hl-2">]); </span><span class="hl-0">// -&gt; color</span><br/><span class="hl-4">ts</span><span class="hl-2">.</span><span class="hl-8">toLang</span><span class="hl-2">([</span><span class="hl-5">&quot;en-GB&quot;</span><span class="hl-2">]); </span><span class="hl-0">// -&gt; colour</span><br/><span class="hl-4">ts</span><span class="hl-2">.</span><span class="hl-8">toLang</span><span class="hl-2">([</span><span class="hl-5">&quot;en&quot;</span><span class="hl-2">]); </span><span class="hl-0">// -&gt; color</span><br/><span class="hl-4">ts</span><span class="hl-2">.</span><span class="hl-8">toLang</span><span class="hl-2">([</span><span class="hl-5">&quot;de-AT&quot;</span><span class="hl-2">]); </span><span class="hl-0">// -&gt; Farbe</span>
</code></pre>
<p>The <code>en-GB</code> tag is able to satisfy <code>en</code>. In general the most specific match wins.</p>

<a href="#language-agnostic-fat-strings" id="language-agnostic-fat-strings" style="color: inherit; text-decoration: none;">
  <h2>Language Agnostic Fat Strings</h2>
</a>
<p>Some text is the same in any language. For example, the name of a product may not have to be translated and should be treated as if it&#39;s already in the target language. In that case use <code>&quot;*&quot;</code> as the language key:</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">brand</span><span class="hl-2"> = { </span><span class="hl-5">&quot;*&quot;</span><span class="hl-4">:</span><span class="hl-2"> </span><span class="hl-5">&quot;Hexten&quot;</span><span class="hl-2"> };</span>
</code></pre>
<p>If necessary overrides may still be provided for specific languages:</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">brand</span><span class="hl-2"> = { </span><span class="hl-5">&quot;*&quot;</span><span class="hl-4">:</span><span class="hl-2"> </span><span class="hl-5">&quot;Hexten&quot;</span><span class="hl-2">, </span><span class="hl-5">&quot;fr&quot;</span><span class="hl-4">:</span><span class="hl-2"> </span><span class="hl-5">&quot;Hexadécimal dix&quot;</span><span class="hl-2"> };</span>
</code></pre>

<a href="#dictionaries" id="dictionaries" style="color: inherit; text-decoration: none;">
  <h2>Dictionaries</h2>
</a>
<p>Translation dictionaries have a <code>$$dict</code> key that contains an object that maps tags to fat strings:</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">dictionary</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-4">$$dict:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">greeting:</span><span class="hl-2"> { </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;Hello&quot;</span><span class="hl-2">, </span><span class="hl-4">de:</span><span class="hl-2"> </span><span class="hl-5">&quot;Güten Tag&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">    </span><span class="hl-4">cats:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-4">en:</span><span class="hl-2"> { </span><span class="hl-4">one:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cat&quot;</span><span class="hl-2">, </span><span class="hl-4">other:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cats&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">      </span><span class="hl-4">de:</span><span class="hl-2"> { </span><span class="hl-4">one:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 Katze&quot;</span><span class="hl-2">, </span><span class="hl-4">other:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 Katzen&quot;</span><span class="hl-2"> }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">};</span>
</code></pre>
<p>In order to use a dictionary pass it to a <code>Translate</code> to add it to the translation context:</p>
<pre><code class="language-js"><span class="hl-1">function</span><span class="hl-2"> </span><span class="hl-8">MyApp</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">    </span><span class="hl-0">// Set the dictionary to use</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">Translate</span><span class="hl-2"> </span><span class="hl-10">dictionary</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">dictionary</span><span class="hl-1">}</span><span class="hl-9">&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">MyThing</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;/</span><span class="hl-7">Translate</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  );</span><br/><span class="hl-2">}</span>
</code></pre>
<p>Nested translation contexts may provide topical dictionaries to override or augment dictionaries in containing contexts. This allows, for example, a component to provide its own translations which will temporarily augment the main dictionary.</p>

<a href="#using-t" id="using-t" style="color: inherit; text-decoration: none;">
  <h2>Using <code>T</code></h2>
</a>
<p>The simplest use of <code>T</code> is to translate a simple fat string. By default the translated text is wrapped in a <code>span</code>.</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">greeting</span><span class="hl-2"> = { </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;Hello&quot;</span><span class="hl-2">, </span><span class="hl-4">fr:</span><span class="hl-2"> </span><span class="hl-5">&quot;Bonjour&quot;</span><span class="hl-2"> };</span><br/><br/><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">text</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">greeting</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// when en: &lt;span&gt;Hello&lt;/span&gt;</span><br/><span class="hl-0">// when fr: &lt;span&gt;Bonjour&lt;/span&gt;</span><br/><span class="hl-0">// when de: &lt;span lang=&quot;en&quot;&gt;Hello&lt;/span&gt;</span>
</code></pre>
<p>Note that when we ask for a language for which there&#39;s no translation we get the default language (in this case &quot;en&quot;) and the <code>span</code> has <code>lang</code> attribute to declare that it&#39;s a different language from the surrounding text.</p>
<p>We can also look up translations by their dictionary tag. This code has the same effect as the example above.</p>
<pre><code class="language-js"><span class="hl-0">// Assumes the dictionary example from above</span><br/><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;greeting&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// This also works</span><br/><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">text</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-11">[</span><span class="hl-5">&quot;greeting&quot;</span><span class="hl-11">]</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span>
</code></pre>
<p>When <code>text</code> is a single element array it is treated as a tag. This is to allow us to mix fat strings and dictionary tags in our data structures and render them with the same code. It also helps when we translate properties - more on that soon.</p>
<p>If we need an element other than <code>span</code> we can tell <code>T</code> what to render:</p>
<pre><code class="language-js"><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;h1&quot;</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;greeting&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span><br/><span class="hl-0">// &lt;h1&gt;Hello&lt;h1&gt; / &lt;h1&gt;Güten Tag&lt;/h1&gt; / &lt;h1 lang=&quot;en&quot;&gt;Hello&lt;h1&gt;</span>
</code></pre>
<p>The <code>as</code> property can be an HTML element name or a function or class React component.</p>
<p>If you prefer you can use the <code>tBind</code> helper to make a new component which always renders as a particular element:</p>
<pre><code class="language-js"><span class="hl-6">import</span><span class="hl-2"> { </span><span class="hl-4">tBind</span><span class="hl-2">, </span><span class="hl-4">tBindMulti</span><span class="hl-2"> } </span><span class="hl-6">from</span><span class="hl-2"> </span><span class="hl-5">&quot;interminimal&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">Toption</span><span class="hl-2"> = </span><span class="hl-8">tBind</span><span class="hl-2">(</span><span class="hl-5">&quot;option&quot;</span><span class="hl-2">);</span><br/><span class="hl-1">const</span><span class="hl-2"> [</span><span class="hl-3">Tdiv</span><span class="hl-2">, </span><span class="hl-3">Tp</span><span class="hl-2">] = </span><span class="hl-8">tBindMulti</span><span class="hl-2">([</span><span class="hl-5">&quot;div&quot;</span><span class="hl-2">, </span><span class="hl-5">&quot;p&quot;</span><span class="hl-2">]);</span><br/><br/><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">Tdiv</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;language&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span>
</code></pre>
<p><code>tBind</code> also accepts an HTML element name or a React component.</p>

<a href="#properties" id="properties" style="color: inherit; text-decoration: none;">
  <h2>Properties</h2>
</a>
<p>With the exception of <code>text</code>, <code>tag</code>, <code>content</code>, <code>as</code> and <code>count</code>, <code>T</code> passes remaining properties to the underlying element.</p>
<pre><code class="language-js"><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;option&quot;</span><span class="hl-2"> </span><span class="hl-10">value</span><span class="hl-2">=</span><span class="hl-5">&quot;X&quot;</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;language&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span><br/><span class="hl-0">// &lt;option value=&quot;X&quot;&gt;English&lt;/option&gt;</span>
</code></pre>
<p>We can also ask for properties to be translated by prefixing them with <code>t-</code>.</p>
<pre><code class="language-js"><span class="hl-0">// Fat string</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">caption</span><span class="hl-2"> = { </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;Hello&quot;</span><span class="hl-2">, </span><span class="hl-4">de:</span><span class="hl-2"> </span><span class="hl-5">&quot;Hallo&quot;</span><span class="hl-2"> };</span><br/><br/><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;img&quot;</span><span class="hl-2"> </span><span class="hl-10">t-alt</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">caption</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-10">src</span><span class="hl-2">=</span><span class="hl-5">&quot;i/pic.jpg&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Dictionary</span><br/><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;img&quot;</span><span class="hl-2"> </span><span class="hl-10">t-alt</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-11">[</span><span class="hl-5">&quot;caption&quot;</span><span class="hl-11">]</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-10">src</span><span class="hl-2">=</span><span class="hl-5">&quot;i/pic.jpg&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span>
</code></pre>
<p>As noted above a fat string whose value is a single element array is treated as a dictionary tag. That allows us to get property translations from either the dictionary or fat strings.</p>
<p>We don&#39;t have to limit ourselves properties containing human text. We could switch the image too.</p>
<pre><code class="language-js"><span class="hl-0">// Fat string</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">caption</span><span class="hl-2"> = { </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;Hello&quot;</span><span class="hl-2">, </span><span class="hl-4">de:</span><span class="hl-2"> </span><span class="hl-5">&quot;Hallo&quot;</span><span class="hl-2"> };</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">pic</span><span class="hl-2"> = { </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;i/pic.jpg&quot;</span><span class="hl-2">, </span><span class="hl-4">de:</span><span class="hl-2"> </span><span class="hl-5">&quot;i/pic-de.jpg&quot;</span><span class="hl-2"> };</span><br/><br/><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;img&quot;</span><span class="hl-2"> </span><span class="hl-10">t-alt</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">caption</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-10">t-src</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">pic</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span>
</code></pre>

<a href="#template-strings" id="template-strings" style="color: inherit; text-decoration: none;">
  <h2>Template strings</h2>
</a>
<p>Translations can be templated. Placeholders in the translated string (<code>%1</code>, <code>%2</code> etc) are replaced with the corresponding child components of the <code>T</code>.</p>
<p>If you know your fat strings are not templated you should use the <code>content</code> property of <code>T</code> to <a href="#disabling-template-substitution">disable template substitution</a>.</p>
<p>When you do want template substitution this is how it works.</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">dictionary</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-4">$$dict:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">// Numbers</span><br/><span class="hl-2">    </span><span class="hl-4">one:</span><span class="hl-2"> { </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;One&quot;</span><span class="hl-2">, </span><span class="hl-4">fr:</span><span class="hl-2"> </span><span class="hl-5">&quot;Un&quot;</span><span class="hl-2">, </span><span class="hl-4">de:</span><span class="hl-2"> </span><span class="hl-5">&quot;Ein&quot;</span><span class="hl-2">, </span><span class="hl-4">cy:</span><span class="hl-2"> </span><span class="hl-5">&quot;Un&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">    </span><span class="hl-4">two:</span><span class="hl-2"> { </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;Two&quot;</span><span class="hl-2">, </span><span class="hl-4">fr:</span><span class="hl-2"> </span><span class="hl-5">&quot;Deux&quot;</span><span class="hl-2">, </span><span class="hl-4">de:</span><span class="hl-2"> </span><span class="hl-5">&quot;Zwei&quot;</span><span class="hl-2">, </span><span class="hl-4">cy:</span><span class="hl-2"> </span><span class="hl-5">&quot;Dau&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">    </span><span class="hl-0">// Message</span><br/><span class="hl-2">    </span><span class="hl-4">info:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-0">// Demo substitution</span><br/><span class="hl-2">      </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;The word for 1 is %1 and the word for 2 is %2&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-4">fr:</span><span class="hl-2"> </span><span class="hl-5">&quot;Le mot pour 2 est %2 et le mot pour 1 est %1&quot;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;</span><span class="hl-7">Translate</span><span class="hl-2"> </span><span class="hl-10">dictionary</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">dictionary</span><span class="hl-1">}</span><span class="hl-9">&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;info&quot;</span><span class="hl-9">&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;one&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;two&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;/</span><span class="hl-7">T</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;/</span><span class="hl-7">Translate</span><span class="hl-9">&gt;</span><br/><span class="hl-2">);</span><br/><span class="hl-0">// when cy</span><br/><span class="hl-0">//    &lt;span lang=&quot;en&quot;&gt;</span><br/><span class="hl-0">//       The word for 1 is</span><br/><span class="hl-0">//       &lt;span lang=&quot;cy&quot;&gt;Un&lt;/span&gt;</span><br/><span class="hl-0">//       and the word for 2 is</span><br/><span class="hl-0">//       &lt;span lang=&quot;cy&quot;&gt;Dau&lt;/span&gt;</span><br/><span class="hl-0">//    &lt;/span&gt;</span><br/><span class="hl-0">//</span><br/><span class="hl-0">// when fr</span><br/><span class="hl-0">//    &lt;span&gt;</span><br/><span class="hl-0">//      Le mot pour 2 est</span><br/><span class="hl-0">//      &lt;span&gt;Deux&lt;/span&gt;</span><br/><span class="hl-0">//      et le mot pour 1 est</span><br/><span class="hl-0">//      &lt;span&gt;Un&lt;/span&gt;</span><br/><span class="hl-0">//    &lt;/span&gt;</span>
</code></pre>
<p>In that example there is no Welsh (&quot;cy&quot;) translation for the <code>&quot;info&quot;</code> tag so we get the default English version of that text but the numbers are still correctly translated into Welsh. Because the Welsh words &quot;Un&quot; and &quot;Dau&quot; are inside English text they get a <code>lang=&quot;cy&quot;</code> attribute to switch back to Welsh. This is because <code>T</code> is aware of the &quot;ambient&quot; language and adds the <code>lang</code> attribute if the ambience doesn&#39;t match its translation.</p>
<p>The French version of the info text reverses the order of the substitutions.</p>
<p>The children of the templated <code>T</code> can be of any kind. For example we could embolden the translation for &quot;two&quot;.</p>
<pre><code class="language-js"><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;info&quot;</span><span class="hl-9">&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;one&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-13">strong</span><span class="hl-9">&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;two&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;/</span><span class="hl-13">strong</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;/</span><span class="hl-7">T</span><span class="hl-9">&gt;</span><br/><span class="hl-2">);</span>
</code></pre>

<a href="#inline-text-in-template-placeholders" id="inline-text-in-template-placeholders" style="color: inherit; text-decoration: none;">
  <h2>Inline text in template placeholders</h2>
</a>
<p>The example above looks up the tags <code>&quot;one&quot;</code> and <code>&quot;two&quot;</code> in the dictionary and will translate them independently of the containing template. Sometimes it&#39;s more convenient to keep all the parts of the string together. Suppose we want to add translation to this markup:</p>
<pre><code class="language-html"><span class="hl-9">&lt;</span><span class="hl-13">span</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  Here&#39;s a</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;</span><span class="hl-13">a</span><span class="hl-2"> </span><span class="hl-10">href</span><span class="hl-2">=</span><span class="hl-14">&quot;/&quot;</span><span class="hl-9">&gt;</span><span class="hl-2">useful link</span><span class="hl-9">&lt;/</span><span class="hl-13">a</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  and here&#39;s some</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;</span><span class="hl-13">i</span><span class="hl-9">&gt;</span><span class="hl-2">italic text</span><span class="hl-9">&lt;</span><span class="hl-13">i</span><span class="hl-9">&gt;</span><br/><span class="hl-9">&lt;/</span><span class="hl-13">span</span><span class="hl-9">&gt;</span>
</code></pre>
<p>Here&#39;s how we might do it:</p>
<pre><code class="language-js"><span class="hl-0">// Simpler to translate</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">message</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-4">en:</span><span class="hl-2"> </span><span class="hl-5">&quot;Here&#39;s a %1[useful link] and here&#39;s some %2[italic text]&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-4">fr:</span><span class="hl-2"> </span><span class="hl-5">&quot;Voici %2[du texte en italique] et un %1[lien utile]&quot;</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">text</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">message</span><span class="hl-1">}</span><span class="hl-9">&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;a&quot;</span><span class="hl-2"> </span><span class="hl-10">href</span><span class="hl-2">=</span><span class="hl-5">&quot;/&quot;</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;%1&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;i&quot;</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;%2&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;/</span><span class="hl-7">T</span><span class="hl-9">&gt;</span><br/><span class="hl-2">);</span><br/><span class="hl-0">// En Français:</span><br/><span class="hl-0">//   &lt;p&gt;Voici &lt;i&gt;du texte en italique&lt;/i&gt; et un &lt;a href=&quot;/&quot;&gt;lien utile&lt;/a&gt;&lt;/p&gt;</span>
</code></pre>
<p>Within the nested components any text <code>[in square brackets]</code> after the placeholder will be available as tags named after that placeholder: <code>%1</code>, <code>%2</code> etc.</p>
<p>For child components that need multiple text substitutions you can nest placeholders:</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">silly</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-4">en:</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Top level %1[Level one %1[Level two] and&quot;</span><span class="hl-2"> +</span><br/><span class="hl-2">    </span><span class="hl-5">&quot; %2[also level two with %1[level three]]]&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-4">fr:</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Niveau supérieur %1[Niveau un %1[Niveau deux]&quot;</span><span class="hl-2"> +</span><br/><span class="hl-2">    </span><span class="hl-5">&quot; et %2[aussi niveau deux avec %1[niveau trois]]]&quot;</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">text</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">silly</span><span class="hl-1">}</span><span class="hl-9">&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;%1&quot;</span><span class="hl-9">&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;%1&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;%2&quot;</span><span class="hl-9">&gt;</span><br/><span class="hl-2">        </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;%1&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">      </span><span class="hl-9">&lt;/</span><span class="hl-7">T</span><span class="hl-9">&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;/</span><span class="hl-7">T</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;/</span><span class="hl-7">Tp</span><span class="hl-9">&gt;</span><br/><span class="hl-2">);</span>
</code></pre>

<a href="#tag-lookup-in-templates" id="tag-lookup-in-templates" style="color: inherit; text-decoration: none;">
  <h2>Tag lookup in templates</h2>
</a>
<p>We can also interpolate the contents of tags (looked up in the dictionary chain) into template strings. A template string like <code>&quot;The name of this site is %{site}&quot;</code> will look for a tag called <code>site</code> and substitute it. This substitution happens early in the rendering of the string so the substituted text can provide further placeholders.</p>

<a href="#disabling-template-substitution" id="disabling-template-substitution" style="color: inherit; text-decoration: none;">
  <h2>Disabling template substitution</h2>
</a>
<p>Often you will receive translated text that should not be parsed as a template. If, for example, you recieve the translated text of a blog post from an API you need to be able to render it without worrying that it might contain tokens like <code>%123</code> which would be interpreted as placeholders - and which would cause your application to throw an error.</p>
<p>In such cases use the <code>content</code> attribute of <code>T</code>:</p>
<pre><code class="language-js"><span class="hl-0">// Don&#39;t parse postBody as a template string.</span><br/><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">content</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">postBody</span><span class="hl-1">}</span><span class="hl-9">&gt;</span><span class="hl-2">;</span>
</code></pre>
<p>Note that you can pass a <code>[&quot;tag&quot;]</code> as the <code>content</code> property to cause dictionary lookup:</p>
<pre><code class="language-js"><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">content</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-11">[</span><span class="hl-5">&quot;literal&quot;</span><span class="hl-11">]</span><span class="hl-1">}</span><span class="hl-9">&gt;</span><span class="hl-2">;</span>
</code></pre>

<a href="#template-syntax-summary" id="template-syntax-summary" style="color: inherit; text-decoration: none;">
  <h2>Template Syntax Summary</h2>
</a>
<p>We&#39;ve seen that <code>%\d+</code> introduces a placeholder into a template string. Placeholders may optionally be followed by <code>[text in brackets]</code> that will be available to child components. There may be no spaces between the placeholder and the opening <code>[</code>.</p>
<p>To interpolate the contents of a translation from the dictionary we use <code>%{tagName}</code>.</p>
<p>A <code>%</code> followed by <code>%</code>, <code>[</code> or <code>]</code> escapes that character:</p>
<ul>
<li>for <code>%</code> use <code>%%</code></li>
<li>for <code>[</code> after a placeholder use <code>%[</code></li>
<li>for <code>]</code> inside placeholder text use <code>%]</code></li>
</ul>
<p>The brackets <code>[</code> and <code>]</code> are only special after a placeholder - you can use them anywhere else without escaping them.</p>
<p>Apart from their use in <code>%{tagName}</code> <code>{</code> and <code>}</code> also have no special significance and may be used unescaped.</p>
<p>Any <code>%</code> that isn&#39;t followed by a digit or <code>%</code>, <code>[</code> or <code>]</code> is passed through unaltered so for most text you won&#39;t have to worry about escaping special characters.</p>

<a href="#plurals-let39s-count-cats" id="plurals-let39s-count-cats" style="color: inherit; text-decoration: none;">
  <h1>Plurals: Let&#39;s Count Cats!</h1>
</a>
<p>Different languages have different rules for forming plurals. They also have different kinds of plurals: Welsh has six. Here&#39;s how we count cats in English, German and Welsh</p>
<pre><code class="language-js"><span class="hl-0">// A pluralised, templated fat string.</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">cats</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-4">en:</span><span class="hl-2"> { </span><span class="hl-4">one:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cat&quot;</span><span class="hl-2">, </span><span class="hl-4">other:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cats&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">  </span><span class="hl-4">de:</span><span class="hl-2"> { </span><span class="hl-4">one:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 Katze&quot;</span><span class="hl-2">, </span><span class="hl-4">other:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 Katzen&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">  </span><span class="hl-4">cy:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">zero:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cathod&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-4">one:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 gath&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-4">two:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 gath&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-4">few:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cath&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-4">many:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 chath&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-4">other:</span><span class="hl-2"> </span><span class="hl-5">&quot;%1 cath&quot;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-1">function</span><span class="hl-2"> </span><span class="hl-8">Cats</span><span class="hl-2">({ </span><span class="hl-4">count</span><span class="hl-2"> }) {</span><br/><span class="hl-2">  </span><span class="hl-0">// We stringify count because otherwise when we try to count 0 cats</span><br/><span class="hl-2">  </span><span class="hl-0">// React treats the falsy 0 as a non-existent component because 0 is</span><br/><span class="hl-2">  </span><span class="hl-0">// false but &quot;0&quot; is true.</span><br/><span class="hl-2">  </span><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">as</span><span class="hl-2">=</span><span class="hl-5">&quot;div&quot;</span><span class="hl-2"> </span><span class="hl-10">text</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">cats</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-10">count</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">count</span><span class="hl-1">}</span><span class="hl-9">&gt;</span><br/><span class="hl-2">      </span><span class="hl-1">{</span><span class="hl-7">String</span><span class="hl-11">(</span><span class="hl-4">count</span><span class="hl-11">)</span><span class="hl-1">}</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;/</span><span class="hl-7">T</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  );</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">function</span><span class="hl-2"> </span><span class="hl-8">CountCats</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">counts</span><span class="hl-2"> = [</span><span class="hl-15">0</span><span class="hl-2">, </span><span class="hl-15">1</span><span class="hl-2">, </span><span class="hl-15">1.5</span><span class="hl-2">, </span><span class="hl-15">2</span><span class="hl-2">, </span><span class="hl-15">3</span><span class="hl-2">, </span><span class="hl-15">6</span><span class="hl-2">, </span><span class="hl-15">42</span><span class="hl-2">];</span><br/><span class="hl-2">  </span><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-13">div</span><span class="hl-9">&gt;</span><br/><span class="hl-2">      </span><span class="hl-1">{</span><span class="hl-4">counts</span><span class="hl-11">.</span><span class="hl-8">map</span><span class="hl-11">((</span><span class="hl-4">count</span><span class="hl-11">, </span><span class="hl-4">i</span><span class="hl-11">) </span><span class="hl-1">=&gt;</span><span class="hl-11"> (</span><br/><span class="hl-11">        </span><span class="hl-9">&lt;</span><span class="hl-7">Cats</span><span class="hl-11"> </span><span class="hl-10">key</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">i</span><span class="hl-1">}</span><span class="hl-11"> </span><span class="hl-10">count</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">count</span><span class="hl-1">}</span><span class="hl-11"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-11">      ))</span><span class="hl-1">}</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;/</span><span class="hl-13">div</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  );</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// You&#39;re here for the Welsh cats, right?</span><br/><span class="hl-0">//    0 cathod</span><br/><span class="hl-0">//    1 gath</span><br/><span class="hl-0">//    1.5 cath</span><br/><span class="hl-0">//    2 gath</span><br/><span class="hl-0">//    3 cath</span><br/><span class="hl-0">//    6 chath</span><br/><span class="hl-0">//    42 cath</span>
</code></pre>
<p>The <code>count</code> property of <code>T</code> is used select the language-appropriate plural.</p>
<p>Plurals don&#39;t have to be templated but it&#39;s often a good idea because it allows the translator to vary where the number appears in the text.</p>

<a href="#use-with-intl" id="use-with-intl" style="color: inherit; text-decoration: none;">
  <h1>Use with Intl</h1>
</a>
<p>The <a href="https://tc39.es/ecma402/#intl-object">ECMAScript Internationalization API</a> provides language sensitive string comparison, number formatting, date and time formatting, pluralisation rules and more. With the exception of pluralisation <em>Interminimal</em> doesn&#39;t attempt to wrap any of the <code>Intl</code> APIs but it does make it easy to work with them. It&#39;s a conscious decision not attempt to integrate <code>Intl</code> functionality more tightly:</p>
<ul>
<li>locales vary by browser and may differ from Node&#39;s implementation</li>
<li><code>Intl</code> support isn&#39;t complete across all browsers</li>
<li><em>Interminimal</em> is supposed to be minimal</li>
<li>it&#39;s easy to use <code>Intl</code> with <em>Interminimal</em> so why abstract it further?</li>
</ul>
<p>Bear in mind when using the <code>Intl</code> APIs that locale and feature support varies by browser and will also likely be different between NodeJS and any particular browser. That can cause problems for Server Side Rendering - for example, at the time of writing, Node 18 has support for Welsh Date/Time formatting but Chrome does not. An SSR Welsh page will therefore render date / time strings differently on initial render and hydration.</p>
<p>With that caveat <code>Intl</code> is extremely useful so let&#39;s see how it works. Here&#39;s a component that wraps <code>Intl.DateTimeFormat</code>:</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-8">TDateFormat</span><span class="hl-2"> = ({ </span><span class="hl-4">date</span><span class="hl-2">, ...</span><span class="hl-4">opt</span><span class="hl-2"> }) </span><span class="hl-1">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">ctx</span><span class="hl-2"> = </span><span class="hl-8">useTranslation</span><span class="hl-2">();</span><br/><span class="hl-2">  </span><span class="hl-0">// Use our languages stack to find a format for our locale</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">dtf</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-7">Intl</span><span class="hl-2">.</span><span class="hl-8">DateTimeFormat</span><span class="hl-2">(</span><span class="hl-4">ctx</span><span class="hl-2">.</span><span class="hl-4">languages</span><span class="hl-2">, </span><span class="hl-4">opt</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-0">// Find out which language was matched...</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> { </span><span class="hl-3">locale</span><span class="hl-2"> } = </span><span class="hl-4">dtf</span><span class="hl-2">.</span><span class="hl-8">resolvedOptions</span><span class="hl-2">();</span><br/><span class="hl-2">  </span><span class="hl-0">// Format the date and create a literal ts with the available</span><br/><span class="hl-2">  </span><span class="hl-0">// locale</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">ts</span><span class="hl-2"> = </span><span class="hl-4">TString</span><span class="hl-2">.</span><span class="hl-8">literal</span><span class="hl-2">(</span><span class="hl-4">dtf</span><span class="hl-2">.</span><span class="hl-8">format</span><span class="hl-2">(</span><span class="hl-4">date</span><span class="hl-2">), </span><span class="hl-4">locale</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-0">// Format it using T</span><br/><span class="hl-2">  </span><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">text</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">ts</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span><br/><span class="hl-2">};</span>
</code></pre>
<p>We use it like this:</p>
<pre><code class="language-js"><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">TDateFormat</span><span class="hl-2"> </span><span class="hl-10">date</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">theDate</span><span class="hl-1">}</span><span class="hl-2"> </span><span class="hl-10">dateStyle</span><span class="hl-2">=</span><span class="hl-5">&quot;full&quot;</span><span class="hl-2"> </span><span class="hl-10">timeStyle</span><span class="hl-2">=</span><span class="hl-5">&quot;full&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span>
</code></pre>
<p>Most of the <code>Intl</code> APIs can be wrapped into components in a similar way. For example here&#39;s a component that wraps <code>Intl.ListFormat</code>. It translates the formatting of lists of items (<code>&quot;This, that, and something else&quot;</code>).</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-8">TList</span><span class="hl-2"> = ({ </span><span class="hl-4">children</span><span class="hl-2">, ...</span><span class="hl-4">opt</span><span class="hl-2"> }) </span><span class="hl-1">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">ctx</span><span class="hl-2"> = </span><span class="hl-8">useTranslation</span><span class="hl-2">();</span><br/><span class="hl-2">  </span><span class="hl-0">// Use our languages stack to find a format for our locale</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">lf</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-7">Intl</span><span class="hl-2">.</span><span class="hl-8">ListFormat</span><span class="hl-2">(</span><span class="hl-4">ctx</span><span class="hl-2">.</span><span class="hl-4">languages</span><span class="hl-2">, </span><span class="hl-4">opt</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-0">// Find out which language was matched...</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> { </span><span class="hl-3">locale</span><span class="hl-2"> } = </span><span class="hl-4">lf</span><span class="hl-2">.</span><span class="hl-8">resolvedOptions</span><span class="hl-2">();</span><br/><span class="hl-2">  </span><span class="hl-0">// Make the children into a list of args, %1, %2 etc</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">list</span><span class="hl-2"> = </span><span class="hl-7">Array</span><span class="hl-2">.</span><span class="hl-8">from</span><span class="hl-2">(</span><br/><span class="hl-2">    { </span><span class="hl-4">length:</span><span class="hl-2"> </span><span class="hl-4">Children</span><span class="hl-2">.</span><span class="hl-8">count</span><span class="hl-2">(</span><span class="hl-4">children</span><span class="hl-2">) },</span><br/><span class="hl-2">    (</span><span class="hl-4">_v</span><span class="hl-2">, </span><span class="hl-4">i</span><span class="hl-2">) </span><span class="hl-1">=&gt;</span><span class="hl-2"> </span><span class="hl-5">`%</span><span class="hl-1">${</span><span class="hl-4">i</span><span class="hl-11"> </span><span class="hl-2">+</span><span class="hl-11"> </span><span class="hl-15">1</span><span class="hl-1">}</span><span class="hl-5">`</span><br/><span class="hl-2">  );</span><br/><br/><span class="hl-2">  </span><span class="hl-0">// Format the list into a template string and make the translated</span><br/><span class="hl-2">  </span><span class="hl-0">// template and locale into a TString</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">ts</span><span class="hl-2"> = </span><span class="hl-4">TString</span><span class="hl-2">.</span><span class="hl-8">literal</span><span class="hl-2">(</span><span class="hl-4">lf</span><span class="hl-2">.</span><span class="hl-8">format</span><span class="hl-2">(</span><span class="hl-4">list</span><span class="hl-2">), </span><span class="hl-4">locale</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-0">// Format it using T</span><br/><span class="hl-2">  </span><span class="hl-6">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">text</span><span class="hl-2">=</span><span class="hl-1">{</span><span class="hl-4">ts</span><span class="hl-1">}</span><span class="hl-9">&gt;</span><span class="hl-1">{</span><span class="hl-4">children</span><span class="hl-1">}</span><span class="hl-9">&lt;/</span><span class="hl-7">T</span><span class="hl-9">&gt;</span><span class="hl-2">;</span><br/><span class="hl-2">};</span>
</code></pre>
<p>Use it like this:</p>
<pre><code class="language-js"><span class="hl-6">return</span><span class="hl-2"> (</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;</span><span class="hl-7">TList</span><span class="hl-9">&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;one&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;two&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-7">T</span><span class="hl-2"> </span><span class="hl-10">tag</span><span class="hl-2">=</span><span class="hl-5">&quot;three&quot;</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;/</span><span class="hl-7">TList</span><span class="hl-9">&gt;</span><br/><span class="hl-2">);</span><br/><span class="hl-0">// en: One, Two, and Three</span><br/><span class="hl-0">// de: Eins, zwei und drei</span>
</code></pre>
<p>Generally speaking the pattern is</p>
<ul>
<li>attempt to create an instance of the API for our preferred languages</li>
<li>check which locale was actually found</li>
<li>format our data using the API</li>
<li>wrap it in a <code>TString</code> with the correct lang (<code>locale</code>)</li>
<li>render it with <code>&lt;T text={ts}&gt;</code></li>
</ul>
<p>A similar technique is likely to work with internationalisation APIs other than <code>Intl</code>.</p>

<a href="#summary" id="summary" style="color: inherit; text-decoration: none;">
  <h1>Summary</h1>
</a>
<p><code>Translate</code> creates a translation context. Any use of <code>T</code> in components below the <code>Translate</code> will attempt to translate text according to the context settings. <code>Translate</code> can be nested to any depth. Each <code>Translate</code> inherits and potentially overrides settings from its parent context. The most interesting properties of a translation context are <code>lang</code>, <code>defaultLang</code> and <code>dictionary</code>.</p>
<p><code>T</code> attempts to translate text in fat strings or from the dictionary. It can translate content and properties. By default <code>T</code> renders as a span but it can be asked to render as any element or component.</p>
<p><code>T</code> supports plurals and templating. Templating can nest to any depth. Templates can re-order child components.</p>
<p>You can read more in the <a href="https://bbcni.github.io/Interminimal/modules.html">API documentation</a>.</p>

<a href="#ci-status" id="ci-status" style="color: inherit; text-decoration: none;">
  <h1>CI Status</h1>
</a>
<p><a href="https://github.com/BBCNI/Interminimal/actions/workflows/node.js.yml"><img src="https://github.com/BBCNI/Interminimal/actions/workflows/node.js.yml/badge.svg" alt="CI Status"></a></p>
<p><a href="https://github.com/BBCNI/Interminimal/actions/workflows/codeql-analysis.yml"><img src="https://github.com/BBCNI/Interminimal/actions/workflows/codeql-analysis.yml/badge.svg" alt="CodeQL"></a></p>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h1>License</h1>
</a>
<p><a href="LICENSE">MIT</a></p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/LangContext.html" class="tsd-kind-icon">Lang<wbr/>Context</a></li><li class="tsd-kind-class"><a href="classes/TString.html" class="tsd-kind-icon">TString</a></li><li class="tsd-kind-interface"><a href="interfaces/LangContextProps.html" class="tsd-kind-icon">Lang<wbr/>Context<wbr/>Props</a></li><li class="tsd-kind-interface"><a href="interfaces/TProps.html" class="tsd-kind-icon">TProps</a></li><li class="tsd-kind-interface"><a href="interfaces/TemplatePlaceholder.html" class="tsd-kind-icon">Template<wbr/>Placeholder</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AsType" class="tsd-kind-icon">As<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#LocaleStack" class="tsd-kind-icon">Locale<wbr/>Stack</a></li><li class="tsd-kind-type-alias"><a href="modules.html#StringPropType" class="tsd-kind-icon">String<wbr/>Prop<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TDictionaryMeta" class="tsd-kind-icon">TDictionary<wbr/>Meta</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TDictionaryRoot" class="tsd-kind-icon">TDictionary<wbr/>Root</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TFatString" class="tsd-kind-icon">TFat<wbr/>String</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TPluralType" class="tsd-kind-icon">TPlural<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TemplateToken" class="tsd-kind-icon">Template<wbr/>Token</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TextPropType" class="tsd-kind-icon">Text<wbr/>Prop<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TranslateLocalProps" class="tsd-kind-icon">Translate<wbr/>Local<wbr/>Props</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TranslateProps" class="tsd-kind-icon">Translate<wbr/>Props</a></li><li class="tsd-kind-variable"><a href="modules.html#T" class="tsd-kind-icon">T</a></li><li class="tsd-kind-variable"><a href="modules.html#Translate" class="tsd-kind-icon">Translate</a></li><li class="tsd-kind-variable"><a href="modules.html#TranslateLocal" class="tsd-kind-icon">Translate<wbr/>Local</a></li><li class="tsd-kind-variable"><a href="modules.html#localeRoot" class="tsd-kind-icon">locale<wbr/>Root</a></li><li class="tsd-kind-function"><a href="modules.html#bestLocale" class="tsd-kind-icon">best<wbr/>Locale</a></li><li class="tsd-kind-function"><a href="modules.html#canonicaliseLanguage" class="tsd-kind-icon">canonicalise<wbr/>Language</a></li><li class="tsd-kind-function"><a href="modules.html#canonicaliseLanguageUncached" class="tsd-kind-icon">canonicalise<wbr/>Language<wbr/>Uncached</a></li><li class="tsd-kind-function"><a href="modules.html#canonicaliseLocales" class="tsd-kind-icon">canonicalise<wbr/>Locales</a></li><li class="tsd-kind-function"><a href="modules.html#resolveLocales" class="tsd-kind-icon">resolve<wbr/>Locales</a></li><li class="tsd-kind-function"><a href="modules.html#tBind" class="tsd-kind-icon">t<wbr/>Bind</a></li><li class="tsd-kind-function"><a href="modules.html#tBindMulti" class="tsd-kind-icon">t<wbr/>Bind<wbr/>Multi</a></li><li class="tsd-kind-function"><a href="modules.html#useTranslation" class="tsd-kind-icon">use<wbr/>Translation</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>